import{r as p,u as c,c as u,a as e,w as r,v as n,b as m,d as _,e as h,f as w,o as f,g,R as v}from"./index-Chy_wCuM.js";import{a as x,S as b}from"./sweetalert2.all-DNnFSqmk.js";const k={id:"singUpPage",class:"bg-yellow"},y={class:"container loginPage vhContainer"},C=e("div",{class:"side"},[e("a",{href:"#"},[e("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),e("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1),U={class:"formControls",action:"index.html"},V=e("h2",{class:"formControls_txt"},"註冊帳號",-1),B=e("label",{class:"formControls_label",for:"email"},"Email",-1),S=e("label",{class:"formControls_label",for:"name"},"您的暱稱",-1),q=e("label",{class:"formControls_label",for:"pwd"},"密碼",-1),M=e("label",{class:"formControls_label",for:"pwd_checked"},"再次輸入密碼",-1),N="https://todolist-api.hexschool.io",A={__name:"SignUpView",setup(P){const s=p({}),i=c(),l=({type:a,text:o})=>{b.fire({title:"訊息",text:o,icon:a,confirmButtonText:"關閉"})},d=async()=>{try{if(s.value.password&&s.value.password.length>=6){if(!s.value.password_checked){l({type:"error",text:"請再次輸入密碼"});return}if(s.value.password_checked!==s.value.password){l({type:"error",text:"輸入密碼不同"});return}}await x.post(`${N}/users/sign_up`,{email:s.value.email,password:s.value.password,nickname:s.value.nickname}),l({type:"success",text:"註冊成功"}),i.push("/")}catch(a){l({type:"error",text:Array.isArray(a.response.data.message)?a.response.data.message[0]:a.response.data.message})}};return(a,o)=>(f(),u("div",k,[e("div",y,[C,e("div",null,[e("div",null,[e("form",U,[V,B,r(e("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:"","onUpdate:modelValue":o[0]||(o[0]=t=>s.value.email=t)},null,512),[[n,s.value.email]]),S,r(e("input",{class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"請輸入您的暱稱","onUpdate:modelValue":o[1]||(o[1]=t=>s.value.nickname=t)},null,512),[[n,s.value.nickname]]),q,r(e("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":o[2]||(o[2]=t=>s.value.password=t)},null,512),[[n,s.value.password]]),M,r(e("input",{class:"formControls_input",type:"password",name:"pwd_checked",id:"pwd_checked",placeholder:"請再次輸入密碼",required:"","onUpdate:modelValue":o[3]||(o[3]=t=>s.value.password_checked=t)},null,512),[[n,s.value.password_checked]]),e("input",{class:"formControls_btnSubmit",type:"button",onClick:m(d,["prevent"]),value:"註冊帳號"}),_(w(v),{to:"/",class:"formControls_btnLink"},{default:h(()=>[g("登入")]),_:1})])])])])]))}};export{A as default};
